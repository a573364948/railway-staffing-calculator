# 数据持久化功能测试说明

## 功能概述
系统现在支持数据持久化，导入的数据会自动保存到浏览器的本地存储中，页面刷新后数据不会丢失。

## 测试步骤

### 1. 测试数据导入和保存
1. 打开应用：http://localhost:3001
2. 点击"数据导入"页面
3. 使用提供的测试数据文件 `public/test-data.csv`（可以在Excel中打开并另存为xlsx格式）
4. 导入数据后，观察数据是否正确显示

### 2. 测试数据持久化
1. 导入数据后，切换到"数据展示"页面
2. 确认数据正确显示，并注意右上角的"数据已保存"标识
3. **刷新浏览器页面**（F5或Ctrl+R）
4. 确认数据仍然存在，没有丢失

### 3. 测试单元格合并功能
1. 在数据展示页面，观察相同序号的数据行
2. 相同序号的行中，相同值的字段应该自动合并显示（使用rowspan）
3. 不同值的字段保持独立显示

### 4. 测试多单位数据
1. 为不同的客运段（北京、石家庄、天津）导入不同的数据
2. 切换单位选择，确认每个单位的数据独立保存
3. 刷新页面后，确认所有单位的数据都保持不变

## 测试数据说明
提供的测试数据包含：
- 3个不同的序号组（1、2、3）
- 每组包含往返车次
- 相同序号的数据会自动合并显示相同的字段（如车型、编组等）
- 不同的字段（如车次、时间）会独立显示

## 预期结果
- ✅ 数据导入后自动保存到localStorage
- ✅ 页面刷新后数据保持不变
- ✅ 相同序号的行正确合并显示
- ✅ 多单位数据独立保存和显示
- ✅ 显示"数据已保存"状态提示

## 故障排除
如果遇到问题：
1. 检查浏览器控制台是否有错误信息
2. 确认浏览器支持localStorage
3. 清除浏览器缓存后重新测试
4. 检查数据格式是否正确
